for (Map<String, Object> constraint : constraints) {
    String name = (String) constraint.get("name");
    List<String> values = (List<String>) constraint.get("values");

    if (name == null || values == null || values.isEmpty()) continue;

    for (String value : values) {
        ModuleDto moduleDto = new ModuleDto();
        moduleDto.setId(String.valueOf(idModule));

        switch (name) {
            case "User Type" -> moduleDto.setUserType(value);
            case "Business Role" -> moduleDto.setBusinessRole(value);
            case "MODULE" -> moduleDto.setModuleName(value);
            case "ApplicationRole" -> moduleDto.setApplicationRole(value);
        }

        moduleDtos.add(moduleDto); // âœ… Add one DTO per value
    }
}